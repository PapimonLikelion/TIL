### 2022-04-07

## Dovemetric (Airtable) Api 호출
- **요청 URL**
  - 되게 신기? 하게도 쿼리스트링에 바로 JSON 느낌나는 친구들을 한 바닥 넣어뒀음
    ```
    https://airtable.com/v0.3/application/apppcI0nClUwo3GCb/read
    ?stringifiedObjectParams={
        "includeDataForTableIds":["tbllShMbhc5jooPRb"],
        "includeDataForViewIds":["viwymTshkJuerbyeT"],
        "shouldIncludeSchemaChecksum":true
    }
    &requestId=reqwFpzEWYyla6C9a
    &accessPolicy={
        "allowedActions":[
            {"modelClassName":"application","modelIdSelector":"apppcI0nClUwo3GCb","action":"read"},
            {"modelClassName":"application","modelIdSelector":"apppcI0nClUwo3GCb","action":"readForDetailView"},
            {"modelClassName":"table","modelIdSelector":"apppcI0nClUwo3GCb *","action":"read"},
            {"modelClassName":"table","modelIdSelector":"apppcI0nClUwo3GCb *","action":"readData"},
            {"modelClassName":"table","modelIdSelector":"apppcI0nClUwo3GCb *","action":"readDataForRowCards"},
            {"modelClassName":"view","modelIdSelector":"apppcI0nClUwo3GCb *","action":"readRowOrder"},
            {"modelClassName":"view","modelIdSelector":"apppcI0nClUwo3GCb *","action":"readData"},
            {"modelClassName":"view","modelIdSelector":"apppcI0nClUwo3GCb *","action":"getMetadataForPrinting"},
            {"modelClassName":"row","modelIdSelector":"apppcI0nClUwo3GCb *","action":"readDataForDetailView"},
            {"modelClassName":"row","modelIdSelector":"apppcI0nClUwo3GCb *","action":"createBoxDocumentSession"},
            {"modelClassName":"row","modelIdSelector":"apppcI0nClUwo3GCb *","action":"createDocumentPreviewSession"}
        ],
        "shareId":"shrP7uEmnxbv7dUEV",
        "applicationId":"apppcI0nClUwo3GCb",
        "generationNumber":0,"expires":"2022-04-28T00:00:00.000Z",
        "signature":"efdff063ac6ebc4d0947704b43d9d2ee09b5a695f2900eb696dfee41e91364a6"
    }
    ```
  - 근데 여기에 airtable 에서 호출한 척 Header 까지 넣어줘야 401 Unauthorized를 벗어날 수 있음
    ```
    Host: airtable.com
    x-airtable-application-id: apppcI0nClUwo3GCb
    x-airtable-inter-service-client: webClient
    x-airtable-page-load-id: pglYshRJ38dSEq9iP
    x-early-prefetch: true
    X-Requested-With: XMLHttpRequest
    x-time-zone: Asia/Seoul
    x-user-locale: ko-KR
    ```

- **최근 30일 Fundraising 으로 가보자!**
    ```
    https://airtable.com/v0.3/view/viwjy9DFTjiMn0oY1/readData
    ?stringifiedObjectParams={}
    &requestId=reqVPJoQ3uIz7KUeT
    &accessPolicy={
        "allowedActions":[
            {"modelClassName":"application","modelIdSelector":"apppcI0nClUwo3GCb","action":"read"},
            {"modelClassName":"application","modelIdSelector":"apppcI0nClUwo3GCb","action":"readForDetailView"},
            {"modelClassName":"table","modelIdSelector":"apppcI0nClUwo3GCb *","action":"read"},
            {"modelClassName":"table","modelIdSelector":"apppcI0nClUwo3GCb *","action":"readData"},
            {"modelClassName":"table","modelIdSelector":"apppcI0nClUwo3GCb *","action":"readDataForRowCards"},
            {"modelClassName":"view","modelIdSelector":"apppcI0nClUwo3GCb *","action":"readRowOrder"},
            {"modelClassName":"view","modelIdSelector":"apppcI0nClUwo3GCb *","action":"readData"},
            {"modelClassName":"view","modelIdSelector":"apppcI0nClUwo3GCb *","action":"getMetadataForPrinting"},
            {"modelClassName":"row","modelIdSelector":"apppcI0nClUwo3GCb *","action":"readDataForDetailView"},
            {"modelClassName":"row","modelIdSelector":"apppcI0nClUwo3GCb *","action":"createBoxDocumentSession"},
            {"modelClassName":"row","modelIdSelector":"apppcI0nClUwo3GCb *","action":"createDocumentPreviewSession"}
        ],
        "shareId":"shrP7uEmnxbv7dUEV",
        "applicationId":"apppcI0nClUwo3GCb",
        "generationNumber":0,
        "expires":"2022-04-28T00:00:00.000Z",
        "signature":"efdff063ac6ebc4d0947704b43d9d2ee09b5a695f2900eb696dfee41e91364a6"
    }
    ```

- **Get 요청에 JSON을 쿼리 스트링으로 넘기네...?**
