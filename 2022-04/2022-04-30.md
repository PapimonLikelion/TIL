### 2022-04-30

## `@SeesionAttribute`
- *참고: https://sun-22.tistory.com/53*
- **Session**
  - Session은 여러 화면이나 여러 요청에서 사용해야하는 객체를 공유할 때 사용 가능
  1. HttpSession을 사용하여 Session 추가
    ```java
    @Controller
    public class SampleController {
        @GetMapping("/events/form")
        public String getEvent(Model model, HttpSession httpSession) {
            Event event = new Event();
            event.setLimit(50);
            event.setName("event1");
            model.addAttribute("event", event);
            httpSession.setAttribute("event", event);
            
            return "/events/form";
        }
    }
    ```
  2. `@SessionAttributes`를 통해 추상화
    - 해당 컨트롤러 내에서 동작하며, 
    - 해당 컨트롤러 안에서 다루는 특정 모델 객체를 세션에 넣고 공유할 때 사용
    ```java
    @Controller
    @SeesionAttributes("event")
    public class SampleController {
        @GetMapping("/events/form")
        public String getEvent(Model model) {
            Event event = new Event();
            event.setLimit(50);
            event.setName("event1");
            model.addAttribute("event", event); //Model 추가시 자동으로 할당
    
            return "/events/form";
        }
    }
    ```
  
- **SessionAttribute**
  - 컨트롤러 밖 (인터셉터/필터 등)에서 만들어 준 세션 데이터에 접근할 때 사용
  1. HttpSession을 사용해 세션값 받아오기
  ```java
  @GetMapping
  public String sessionTest(HttpSession httpSession) {
      LocalDateTime visitTime = (LocalDateTime) httpSession.getAttribute("visitTime");
      return visitTime.toString();
  }
  ```
  2. `@SessionAttribute` 사용
  ```java
  @GetMapping
  public String sessionTest(@SessionAttribute("visitTime") LocalDateTime visitTime) {
      return visitTime.toString();
  }
  ```

